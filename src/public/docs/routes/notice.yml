definitions:
  Notice:
    type: object
    required:
      - title
      - details
      - audience
      - author
    properties:
      audience:
        description: Who is the target audience for this notice? Defaults to 'all'
        type: array
        items:
          enum:
            - staff
            - parents
            - admin

      title:
        type: string
        description: Name of the notice

      details:
        type: string
        description: Unique identifier of the notice usually generated through PSM

      author:
        type: ObjectId
        description: Author

parameters:
  id:
    in: path
    type: string
    required: true
    name: id
    description: Notice Id

  search:
    in: query
    type: string
    required: true
    name: search
    description: Search keyword

  notice:
    in: body
    type: object
    required: true
    name: body
    description: Notice object
    schema:
      $ref: "#/definitions/Notice"

paths:
  /api/notice:
    post:
      tags:
        - Notice
      summary: Add a notice
      description: This allows creation of a new notice
      consumes: application/json
      produces: application/json
      parameters:
        - $ref: "#/parameters/notice"
      responses:
        200:
          description: Success
          schema:
            $ref: "#/definitions/Notice"
        500:
          description: internal server error

    get:
      tags:
        - Notice
      summary: Search a notice
      description: Searches notices based on a given search criteria
      produces: application/json
      parameters:
        - $ref: "#/parameters/search"
      responses:
        200:
          description: A list of all notices
          schema:
            type: array
            items:
              $ref: "#/definitions/Notice"
        404:
          description: No notices found
        500:
          description: internal server error

  /api/notice/{id}:
    get:
      tags:
        - Notice
      summary: Get notice details
      description: Gets the details of a notice by id
      produces: application/json
      parameters:
        - $ref: "#/parameters/id"
      responses:
        200:
          description: Notice details
          schema:
            $ref: "#/definitions/Notice"
        404:
          description: Notice not found
        500:
          description: internal server error

    put:
      tags:
        - Notice
      summary: Update a notice
      description: Use this endpoint if you want to update a notice
      produces: application/json
      parameters:
        - $ref: "#/parameters/id"
        - $ref: "#/parameters/notice"

      responses:
        200:
          description: Returns the notice that has been updated
          schema:
            $ref: "#/definitions/Notice"
        404:
          description: Notice not found
        500:
          description: internal server error

    delete:
      tags:
        - Notice
      summary: Delete a notice
      description: Deletes a notice
      produces: application/json
      parameters:
        - $ref: "#/parameters/id"
      responses:
        200:
          description: Notice deleted successfully
        404:
          description: Notice not found
        500:
          description: internal server error
